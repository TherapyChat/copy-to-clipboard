<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="./copy-to-clipboard-behavior.html">

<dom-module id="copy-to-clipboard">
  <template>
    <style>
      :host {
        display: inline-block;
      }
    </style>

    <button id="copyButton" on-click="_onClickCopy">
      <slot></slot>
    </button>
  </template>
  <script>
    Polymer({
      is: 'copy-to-clipboard',

      behaviors: [
        Polymer.CopyToClipboardBehavior
      ],

      properties: {
        value: String
      },

      attached: function () {
        this.clipboardSetup(this, {
          text: () => {
            return this.value
          }
        })
      },

      copy: function () {
        this.dispatchEvent(new CustomEvent('click'))
      }
    })
  </script>
</dom-module>
